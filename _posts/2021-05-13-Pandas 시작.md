---
layout: post
toc: true
title: "Pandas 시작"
categories: [Python Pandas]
tags: [Python, Pandas]
author:
  - jaehyuk lee
---

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce bibendum neque eget nunc mattis eu sollicitudin enim tincidunt. Vestibulum lacus tortor, ultricies id dignissim ac, bibendum in velit.

## Pandas 자료구조

Pandas는 Series와 DataFrame이라는 구조화된 데이터 형식을 제공한다. 차이점으로는 Series는 1차원의 배열, DataFrame은 2차원의 배열이다. Pandas의 1차적인 목적은 서로 다른 유형의 데이터를 공통의 포맷으로 정리하는 것으로 해당 내용에 대해 숙지할 필요가 있다. 

### Series

Series는 데이터가 순차적으로 나열된 1차원 배열의 형태를 갖는다

#### Dictionary → Series 변환

1. Dictionary → Series: pd.Series(딕셔너리) 
   딕셔너리의 key는 Series의 index에 대응하고 딕셔너리의 키에 매칭되는 값이 Series의 Data에 매칭된다. 

```html
import pandas as pd

Dict_Sample = { '하늘': '비행기', '바다':'배', '육지':'자동차' }
Series = pd.Series(Dict_Sample)

print("type:", type(Series), "\n", Series)
```

#### Index 구조

1. Index 나열: Series객체.index
   데이터 값 나열: Series객체.values

#### List, Tuple → Series 변환

1. 인덱스를 별도 정의하지 않으면 default로 정수형 위치 index 자동으로 지정

2. List, Tuple을 Series로 만들 때 정수형 위치 index 대신 index 이름 지정 가능

```html
List_Data = ['lee','jaehyuk','Seoul']
Series = pd.Series(List_Data)
```

```html
Tuple_Data = ('lee','jaehyuk','Seoul', True)
Series = pd.Series(Tuple_Data, index=['last name','first name', 'city', 'student'])
```

#### 원소 선택

1. index를 이용하여 원소 선택: Series[index]

```html
print(Series[0])
print(Series['last name'])
```

Output
```html
lee
lee
```

2. index를 이용하여 여러개의 원소 선택: Series[index 1번, index 2번, ... ]

```html
print(Series[1,2])
print('\n')
print(Series['first name','city'])
```

Output
```html
first name    jaehyuk
city            Seoul
dtype: object

first name    jaehyuk
city            Seoul
dtype: object
```

3. 정수형 index 범위를 사용하여 여러개의 원소 선택: Series[a:b] #범위의 끝 불포함
  index 이름을 사용하여 여러개의 원소 선택: Series['a':'b'] #범위의 끝 

```html
print(Series[1:2])
print('\n')
print(Series['first name':'city'])
```

Output
```html
first name    jaehyuk
dtype: object

first name    jaehyuk
city            Seoul
dtype: object
```

### DataFrame

DataFrame은 2차원 배열로서, Series를 열벡터라고 하면, DataFrame은 여러개의 열벡터들이 같은 행 index를 기준으로 줄지어 결합된 2차원 벡터 또는 행렬이다.

#### DataFrame 만들기

1. Dictionary → DataFrame 변환: pandas.DataFrame(Dictionary 객체)

```html
Dict_Data = {'name':['영호','지연','수빈'], 'age':[12,15,13], 'city':['Seoul','Suwon','Incheon']}
df = pd.DataFrame(Dict_Data)
```

Output
```html
	name	age	city
0	영호	12	Seoul
1	지연	15	Suwon
2	수빈	13	Incheon
```

#### 행 index/열 이름 설정

1. 행 index/열 이름 설정: pandas.DataFrame(2차원 배열, index=행 인덱스 배열, columns=열 이름 배열)

```html
df = pd.DataFrame([[12,'남','Seoul'],[15,'여','Suwon']], index=['영호','지연'], columns=['age','sex','city'])
df
```

Output
```html
     age	sex	city
영호	12	남	Seoul
지연	15	여	Suwon
```

2. 행 index 변경: DataFrame객체.index= 새로운 행 index 배열
   행 index 변경: DataFrame객체.rename(index = {'기존 idnex' : '새 index', ... }, inplace = True)

3. 열 이름 변경: DataFrame객체.columns=새로운 열 이름 배열
   열 이름 변경: DataFrame객체.rename(columns = {'기존 열 이름' : '새 열 이름', ... }, inplace = True)

#### 행/열 삭제

1. 행 삭제: DataFrame객체.drop(행 index 혹은 배열, axis=0)

2. 열 삭제: DataFrame객체.drop(열 이름 또는 배열, axis=1)

#### 행 선택

1. index 기반 행 선택: DataFrame객체.loc['a':'c']

2. 정수형 위치 indx 기반 행 선택: DataFrame객체.iloc[3:7] #마지막 불포함

3. 슬라이싱 이용한 행 선택: DataFrme.iloc[시작index : 끝index: 슬라이싱 간격]

#### 열 선택

1. 열 1개 선택: DataFrame객체.열 이름 or DataFrame객체["열 이름"]

2. 열 다수 선택: DataFrame객체[[열1, 열2, 열3 ,,, 열n]]

#### 원소 선택

1. index 이름 원소 선택: DataFrame객체.loc[행 인덱스, 열 이름]

2. 정수 위치 원소 선택: DataFrame객체.iloc[행 번호, 열 번호]

```html
dict_sample = {'이름':['지연','영호','유빈'], 
               '국어': [70,50,80],
               '수학': [100,80,90],
               '영어': [60,90,70]
              }
select_sample = pd.DataFrame(dict_sample)
select_sample
```

output
```html
  이름	국어	수학	영어
0	지연	70	100	60
1	영호	50	80	90
2	유빈	80	90	70
```

```html
select_sample.set_index('이름', inplace=True)
print(select_sample)
```

output
```html
    국어   수학  영어
이름             
지연  70  100  60
영호  50   80  90
유빈  80   90  70
```

영호의 수학 점수 선택
```html
select_sample.loc['영호','수학']
select_sample.iloc[1,1]
```

output
```html
a= select_sample.loc['영호','수학']
print(a)
b= select_sample.iloc[1,1]
print(b)
```

영호와 유빈의 수학, 영어 점수 선택
```html
c= select_sample.loc['영호':'유빈','수학','영어']
print(c)
d= select_sample.iloc[1:3, 1:3]
print(d)
```

output
```html
    수학  영어
이름        
영호  80  90
유빈  90  70
    수학  영어
이름        
영호  80  90
유빈  90  70
```

#### 열 추가

열 추가: DataFrame객체['추가하려는 열 이름'] = 데이터 값

#### 행 추가

행 추가: DataFrame객체.loc['새로운 행 이름'] = 데이터 값

#### 원소 값 변경

원소 값 변경: DataFrame객체 일부 또는 원소 = 데이터 값

#### 행, 열 위치 바꾸기

1. 선형대수학의 전치행렬과 같은 개념

2. 행, 열 바꾸기: DataFrame객체.transpose()


### index 활용


```html
```

```html
```

```html
```


## Another great heading (h2)

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce bibendum neque eget nunc mattis eu sollicitudin enim tincidunt. Vestibulum lacus tortor, ultricies id dignissim ac, bibendum in velit.

### Some great subheading (h3)

Proin convallis mi ac felis pharetra aliquam. Curabitur dignissim accumsan rutrum. In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum.

Phasellus et hendrerit mauris. Proin eget nibh a massa vestibulum pretium. Suspendisse eu nisl a ante aliquet bibendum quis a nunc.

### Some great subheading (h3)

Praesent varius interdum vehicula. Aenean risus libero, placerat at vestibulum eget, ultricies eu enim. Praesent nulla tortor, malesuada adipiscing adipiscing sollicitudin, adipiscing eget est.

> This quote will *change* your life. It will reveal the <i>secrets</i> of the universe, and all the wonders of humanity. Don't <em>misuse</em> it.

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce bibendum neque eget nunc mattis eu sollicitudin enim tincidunt.

### Some great subheading (h3)

Vestibulum lacus tortor, ultricies id dignissim ac, bibendum in velit. Proin convallis mi ac felis pharetra aliquam. Curabitur dignissim accumsan rutrum.

```html
<html>
  <head>
  </head>
  <body>
    <p>Hello, World!</p>
  </body>
</html>
```


In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

#### You might want a sub-subheading (h4)

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

#### But it's probably overkill (h4)

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

##### Could be a smaller sub-heading, `pacman` (h5)

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

###### Small yet significant sub-heading  (h6)

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

### Oh hai, an unordered list!!

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

- First item, yo
- Second item, dawg
- Third item, what what?!
- Fourth item, fo sheezy my neezy

### Oh hai, an ordered list!!

In arcu magna, aliquet vel pretium et, molestie et arcu. Mauris lobortis nulla et felis ullamcorper bibendum. Phasellus et hendrerit mauris.

1. First item, yo
2. Second item, dawg
3. Third item, what what?!
4. Fourth item, fo sheezy my neezy



## Headings are cool! (h2)

Proin eget nibh a massa vestibulum pretium. Suspendisse eu nisl a ante aliquet bibendum quis a nunc. Praesent varius interdum vehicula. Aenean risus libero, placerat at vestibulum eget, ultricies eu enim. Praesent nulla tortor, malesuada adipiscing adipiscing sollicitudin, adipiscing eget est.

Praesent nulla tortor, malesuada adipiscing adipiscing sollicitudin, adipiscing eget est.

Proin eget nibh a massa vestibulum pretium. Suspendisse eu nisl a ante aliquet bibendum quis a nunc.

### Tables

Title 1               | Title 2               | Title 3               | Title 4
--------------------- | --------------------- | --------------------- | ---------------------
lorem                 | lorem ipsum           | lorem ipsum dolor     | lorem ipsum dolor sit
lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit
lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit
lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit | lorem ipsum dolor sit


Title 1 | Title 2 | Title 3 | Title 4
--- | --- | --- | ---
lorem | lorem ipsum | lorem ipsum dolor | lorem ipsum dolor sit
lorem ipsum dolor sit amet | lorem ipsum dolor sit amet consectetur | lorem ipsum dolor sit amet | lorem ipsum dolor sit
lorem ipsum dolor | lorem ipsum | lorem | lorem ipsum
lorem ipsum dolor | lorem ipsum dolor sit | lorem ipsum dolor sit amet | lorem ipsum dolor sit amet consectetur
